<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>

    <style>

        /* Style for Whole WebPage Content */
        .webpage {
            padding-left: 100px;
        }

        /* Style for Text_Area under Lat-Long of Re-route */
        .textarea-wrapper {
        overflow: hidden;
        max-height: 0;
        }

        .textarea-wrapper.expand {
        max-height: fit-content;
        max-width: 150px;
        transition: max-height 0.5s ease-in;
        }

        /* Style for Text_Area under Barrier Others */
        .textarea-wrapper1 {
        overflow: hidden;
        max-height: 0;
        }

        .textarea-wrapper1.expand {
        max-height: fit-content;
        max-width: 300px;
        transition: max-height 0.5s ease-in;
        }

        /* Style for Text_Area under @physicalmedian */
        .textarea-wrapper2 {
        overflow: hidden;
        max-height: 0;
        }

        .textarea-wrapper2.expand {
        max-height: fit-content;
        max-width: 300px;
        transition: max-height 0.5s ease-in;
        }

        /* Style for Text_Area under @HGV */
        .textarea-wrapper3 {
        overflow: hidden;
        max-height: 0;
        }

        .textarea-wrapper3.expand {
        max-height: fit-content;
        max-width: 300px;
        transition: max-height 0.5s ease-in;
        }
		
    </style>

<script>
    function tripShow() {
        var checkBox = document.getElementById("Trip");
        var text = document.getElementById("BDIP");
        if (checkBox.checked == true){
            BDIP.style.display = "block";
        } else {
            BDIP.style.display = "none";
        }
    }

    function fleetShow() {
        var checkBox = document.getElementById("Fleet");
        var text = document.getElementById("BDIF");
        if (checkBox.checked == true){
            BDIF.style.display = "block";
        } else {
            BDIF.style.display = "none";
        }
    }

    function imageryShow() {
        var checkBox = document.getElementById("IMAGERY");
        var text = document.getElementById("BDIMAGERY");
        if (checkBox.checked == true){
            BDIMAGERY.style.display = "block";
        } else {
            BDIMAGERY.style.display = "none";
        }
    }

    function overlayShow() {
        var checkBox = document.getElementById("OVERLAY");
        var text = document.getElementById("BDOVERLAY");
        if (checkBox.checked == true){
            BDOVERLAY.style.display = "block";
        } else {
            BDOVERLAY.style.display = "none";
        }
    }

    function barrierShow() {
        var checkBox = document.getElementById("BARRIER");
        var text = document.getElementById("BDBARRIER");
        if (checkBox.checked == true){
            BDBARRIER.style.display = "block";
        } else {
            BDBARRIER.style.display = "none";
        }
    }

    function otherShow() {
        var checkBox = document.getElementById("OTHER_OPTIONS");
        var text = document.getElementById("BDOTHER_OPTIONS");
        if (checkBox.checked == true){
            BDOTHER_OPTIONS.style.display = "block";
        } else {
            BDOTHER_OPTIONS.style.display = "none";
        }
    }

</script>
</head>
<body>

    <!-- NavBar Code Block -->
    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">Editor Template</span>
        </div>
    </nav>

    <div class="webpage">

        <!-- Trip Diver Checkboxes -->
        <div class="col-md-3 text-left">
            <br><div><b><u> Trip Diver </u></b></br></div>
            <form>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="Trip" name="BD" value="Trip Diver Present" onclick="tripShow()">
                    <label class="form-check-label" for="Trip">
                        <a><u>Trip Diver Tool checked</u></a> </input>
                    </label>
                </div>
                <div class="container" id="BDIP" style="display:none;">
                    <form id="BDIPF">

                        <div class="form-check">
                            <input class="form-check-input" type="radio" id="BDV19" name="BDV" value="Trip Diver Link Present">
                            <label class="form-check-label" for="BDV19">
                                <a> Trip Diver Link Present </a> </input>
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="radio" id="BDV21" name="BDV" value="Trip Diver Link Not Present">
                            <label class="form-check-label" for="BDV21">
                                <a> Trip Diver Link Not Present </a> </input>
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="BDV22" name="BDV" value="No Results of the Sub-Route">
                            <label class="form-check-label" for="BDV22">
                                <a> No Results of the Sub-Route </a> </input>
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="BDV23" name="BDV" value="No Re-route in the Sub-Route">
                            <label class="form-check-label" for="BDV23">
                                <a> No Re-route in the Sub-Route </a> </input>
                            </label>
                        </div>

                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="NEW1" name="BDV" value="@TGI_Mismatch">
                            <label class="form-check-label" for="NEW1">
                                <a> Trip Diver Location Mismatch </a> </input>
                            </label>
                        </div>

                        <li> Lat-Long of Re-route/Timestamp </li>

                        <div class="form-check">
                            <textarea class="form-control rounded-0" rows="1" placeholder="latitude,longitude" id="lat_long"></textarea>
                        </div>

                    </form>
                </div>
            </form>
        </div>

        <script>

            //---------------------------------------------------------------------------------------
            // This is code for opening the text-area under Lat-Long on Re-route
            // const checkbox = document.getElementById('lat_long');

            // checkbox.addEventListener('change', function() {
            //     const textareaWrapper = document.querySelector('.textarea-wrapper');
            //     if (checkbox.checked) {
            //         textareaWrapper.classList.add('expand');
            //     } else {
            //         textareaWrapper.classList.remove('expand');
            //     }
            // });

            //---------------------------------------------------------------------------------------

            //---------------------------------------------------------------------------------------
            // This is code which checks if the value of the lat-long textarea matches a particular 
            //pattern and display an alert if it does not.

            var latLongTextarea = document.getElementById('lat_long');

            latLongTextarea.addEventListener('blur', function() {
                var input = latLongTextarea.value.trim();
                const regex = /^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$/;

                if (!regex.test(input)) {
                    alert('Invalid latitude,longitude value (e.g. 40.7128,-74.0060)');
                    latLongTextarea.value='';
                }

            });
            //---------------------------------------------------------------------------------------

            //--------------------------------------------------------------------------------------------------------

        </script>
    
    </body>
</html>